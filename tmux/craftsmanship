# create a new session named 'dev'
# call the initial window 'editor'
# then detach
tmux -2 new-session -s dev -n shell -d

# command line window
tmux send-keys -t dev 'clear && cd /Users/mkrisher/Documents/projects/repos/craftsmanship/workshop' C-m
tmux send-keys -t dev:1 'vagrant up && vagrant ssh' C-m
tmux send-keys -t dev:1 'cd projects/api-craftsmanship-io'
tmux send-keys -t dev:1 'docker run -v `pwd`:/data/ --entrypoint="/usr/local/bundle/bin/bundle" -it craftsmanship-io/api-craftsmanship-io install'
tmux send-keys -t dev:1 'vagrant up --no-parallel && vagrant status'

# vim window
tmux new-window -n vim -t dev
tmux send-keys -t dev:2 'clear && cd /Users/mkrisher/Documents/projects/repos/craftsmanship/workshop/projects/api-craftsmanship-io' C-m
tmux send-keys -t dev:2 'vim' C-m

# test suite window
tmux new-window -n rspec -t dev
tmux send-keys -t dev:3 'clear && cd /Users/mkrisher/Documents/projects/repos/craftsmanship/workshop/projects/api-craftsmanship-io' C-m
#tmux send-keys -t dev:3 'rspec' C-m

# attach
tmux select-window -t dev:1
tmux -2 attach -t dev
